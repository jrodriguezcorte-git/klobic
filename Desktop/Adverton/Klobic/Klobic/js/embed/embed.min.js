"use strict";function Stats(t){this.hash=t.hash,this.userId=t.userId,this.paid=t.paid,this.rotatorHash=t.rotatorHash,this.timestamp=!1,this.ip=!1,this.vid=!1,this.viewTime=!1,this.browser=eaUtils.getBrowser(),this.params={uid:this.userId,h:this.hash,eid:!1,ip:!1,b:this.browser[0],bv:this.browser[1],os:eaUtils.getOS(),d:eaUtils.getDevice(),r:eaUtils.getScreenSize(),mp:!1,t:!1,vid:!1,elt:!1,et:"view"},this.rotatorHash&&(this.params.rh=this.rotatorHash),this.planned={},this.slideSaved=!1,this.banner=t.banner,this.currentDomain=t.currentDomain,EventDispatcher.call(this)}function BaseDisplay(){EventDispatcher.call(this)}function BannerDisplay(){this.startSlide=0,this.overflowSlide=null,BaseDisplay.call(this)}function ButtonDisplay(){BaseDisplay.call(this)}function ClipartDisplay(){BaseDisplay.call(this)}function ImageDisplay(){BaseDisplay.call(this)}function MenuDisplay(){BaseDisplay.call(this)}function ShapeDisplay(){BaseDisplay.call(this)}function SlideDisplay(){this.banner=null,this.rendered=!1,this._buildOutTimeout=null,this.container=null,this.elements=[]}function TextDisplay(){BaseDisplay.call(this)}function EmbedCanvas(){EventDispatcher.call(this)}var eaUtils={domUniqueId:0,eventPrefix:"",eventsFallbackAlias:{mouseenter:"mouseover",mouseleave:"mouseout"},cssStyle:{},cssStyleArray:[],rawCssStyle:"",cssPropsAlias:{fontFamily:"font-family",fontWeight:"font-weight",fontStyle:"font-style",fontSize:"font-size",lineHeight:"line-height"},extractRGB:function(t){if(t){t=t.toLowerCase();var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i={r:"",g:"",b:""};return i.r=parseInt((16*e.indexOf(t[1])+e.indexOf(t[2])).toString()),i.g=parseInt((16*e.indexOf(t[3])+e.indexOf(t[4])).toString()),i.b=parseInt((16*e.indexOf(t[5])+e.indexOf(t[6])).toString()),i}},detectHTML5:function(){return Detect.transformOrigin},extractRGBA:function(t){var e=t.replace(/[^\d,.]/g,"").split(",");return{r:e[0],g:e[1],b:e[2],a:e[3]}},rgba2hex:function(t,e){return"#"+(0!=e?(256+parseInt(256*Number(t.a))).toString(16).substr(1):"")+(256+parseInt(t.r)).toString(16).substr(1)+(256+parseInt(t.g)).toString(16).substr(1)+(256+parseInt(t.b)).toString(16).substr(1)},hex2rgb:function(t){return[t>>16,t>>8&255,255&t]},hex2rgba:function(t,e){var i="#"===t[0]?t.substr(1):t,s=this.hex2rgb(parseInt(i,16));return"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+e+")"},getIEVersion:function(){if(void 0!=eaUtils.IEVersion)return eaUtils.IEVersion;var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return eaUtils.IEVersion=t,t},detectIE:function(){return-1!=eaUtils.getIEVersion()},_is_safari:null,isSafari:function(){return null===this._is_safari&&(this._is_safari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)),this._is_safari},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return eaUtils.isMobile.Android()||eaUtils.isMobile.BlackBerry()||eaUtils.isMobile.iOS()||eaUtils.isMobile.Opera()||eaUtils.isMobile.Windows()}},getBrowser:function(){var t,e,i,s=navigator.userAgent,r=navigator.appName,n=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);return-1!=(e=s.indexOf("OPR/"))?(r="Opera",n=s.substring(e+4)):-1!=(e=s.indexOf("Opera Mini"))?(r="Opera Mini",n=s.substring(e+11)):-1!=(e=s.indexOf("Opera"))?(r="Opera",n=s.substring(e+6),-1!=(e=s.indexOf("Version"))&&(n=s.substring(e+8))):-1!=(e=s.indexOf("Edge"))?(r="Edge",n=s.substring(e+5)):-1!=(e=s.indexOf("MSIE"))?(r="MSIE",n=s.substring(e+5)):/x64|x32/gi.test(s)?(r="MSIE",n="12.0"):-1!=(e=s.indexOf("Chrome"))?(r="Chrome",n=s.substring(e+7)):-1!=(e=s.indexOf("Safari"))?(r="Safari",n=s.substring(e+7),-1!=(e=s.indexOf("Version"))&&(n=s.substring(e+8))):-1!=(e=s.indexOf("Firefox"))?(r="Firefox",n=s.substring(e+8)):(t=s.lastIndexOf(" ")+1)<(e=s.lastIndexOf("/"))&&(r=s.substring(t,e),n=s.substring(e+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)),"Netscape"!==r||5!=n||window.ActiveXObject||(r="MSIE",n="11.0"),-1!=(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!=(i=n.indexOf(" "))&&(n=n.substring(0,i)),a=parseInt(""+n,10),isNaN(a)&&(n=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10)),isNaN(a)&&(a=0),/Chrome|Firefox|MSIE|Edge|Safari|Opera|Opera Mini/.test(r)||(r="Other",a=0),[r,a]},getOS:function(){var t,e=navigator.userAgent,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Windows Phone",r:/Windows Phone|iemobile|WPDesktop/},{s:"Chrome OS",r:/\bCrOS\b/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var s in i){var r=i[s];if(r.r.test(e)){t=r.s;break}}return/Windows/.test(t)&&!/Windows Phone/.test(t)&&(t="Windows"),/Mac OS/.test(t)&&(t="Macintosh"),/Windows|Windows Phone|Macintosh|Linux|Android|iOS|Chrome OS/.test(t)||(t="Other"),t},getScreenSize:function(){var t=window.devicePixelRatio||1,e=window.screen.width?window.screen.width:0,i=window.screen.height?window.screen.height:0;return eaUtils.isAndroidStockBrowser()&&(e/=t,e=Math.round(e),i/=t,i=Math.round(i)),e+"x"+i},isAndroidStockBrowser:function(){var t,e=!1,i=!1;return!("Android"!=eaUtils.getOS()||(t=navigator.userAgent.match(/firefox/i),e=t&&t.length>0,t=navigator.userAgent.match(/chrome/i),i=t&&t.length>0,e||i))},isTablet:function(){var t=navigator.userAgent.match(/(ipad|android|windows phone|silk|blackberry|iemobile)/i),e=eaUtils.getScreenSize().split("x");return!!(t&&t.length>0&&(e[0]>=960||e[1]>=960))},getDevice:function(){return eaUtils.isTablet()?"tablet":eaUtils.isMobile.any()?"mobile":"desktop"},generateLighterColor:function(t,e){if(t){void 0==e&&(e=26);var i=eaUtils.extractRGB(t);return i.r=Math.min(255,parseInt(i.r)+e),i.g=Math.min(255,parseInt(i.g)+e),i.b=Math.min(255,parseInt(i.b)+e),"#"+eaUtils.fixed2(i.r.toString(16))+eaUtils.fixed2(i.g.toString(16))+eaUtils.fixed2(i.b.toString(16))}},fixed2:function(t){return t.length<2?"0"+t:t},getTransparentImageURL:function(){return"data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},getElementStyle:function(t,e){var i;return t.currentStyle?i=t.currentStyle[e]:window.getComputedStyle&&(i=window.getComputedStyle(t,null).getPropertyValue(e)),i},addCSSById:function(t,e){var i=document.getElementsByTagName("head")[0],s=document.getElementById("eautils-css");void 0!=s&&null!=s||(s=document.createElement("style"),s.type="text/css",s.id="eautils-css",i.appendChild(s));var r;if(void 0!=eaUtils.cssStyle[e]){eaUtils.rawCssStyle="",eaUtils.cssStyle[e].css=t;for(var n=0;n<eaUtils.cssStyleArray.length;n++)r=eaUtils.cssStyleArray[n],eaUtils.rawCssStyle+=r.css}else eaUtils.rawCssStyle+=t,r={},r.css=t,eaUtils.cssStyle[e]=r,eaUtils.cssStyleArray.push(r);s.styleSheet?s.styleSheet.cssText=eaUtils.rawCssStyle:s.innerHTML=eaUtils.rawCssStyle},backwardBackgroundTile:function(t){return t&&t.type&&"image"==t.type&&t.tile&&(t.scaleMode="tile",t.contentScale=100,t.contentOffsetX=50,t.contentOffsetY=50,delete t.tile),t},toggleBackroundClasses:function(t,e){if(!t||!e)return this.addClass(t,"background"),!1;var i=["background","background-crop","background-stretch","background-mask","background-aspect","background-tile"],s=i[0]+"-"+e.toLowerCase();for(var r in i)this.removeClass(t,i[r]);this.addClass(t,i[0]),this.addClass(t,s)},hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ")}},getTextShadowCss:function(t){if(!t)return null;var e={"text-shadow":""};return 1!=t.useShadow&&"true"!=t.useShadow||(e.textShadow=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color,e["text-shadow"]=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color,e["-moz-text-shadow"]=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color,e["-o-text-shadow"]=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color,e["-ms-text-shadow"]=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color),e},getBoxShadowCss:function(t){if(!t)return null;var e={"-webkit-box-shadow":"","box-shadow":""};return 1!=t.useShadow&&"true"!=t.useShadow||(e["-webkit-box-shadow"]=e.boxShadow=t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.spread+"px "+t.color),e},getDropShadowCss:function(t){var e={"-webkit-filter":"",filter:""};return 1!=t.useShadow&&"true"!=t.useShadow||(e["-webkit-filter"]=e.filter="drop-shadow("+t.hShadow+"px "+t.vShadow+"px "+t.blur+"px "+t.color+")"),e},getFiltersCss:function(t,e,i){var s={"-webkit-filter":"",filter:""};return!t||1!=t.useAdjustColor&&"true"!=t.useAdjustColor||(s.filter+="brightness("+(parseInt(t.brightness)+100)/100+") ",s.filter+="contrast("+(parseInt(t.contrast)+100)/100+") ",s.filter+="saturate("+(parseInt(t.saturate)+100)/100+") ",s.filter+="hue-rotate("+t.hue+"deg)"),!e||1!=e.useBlur&&"true"!=e.useBlur||(s.filter+="blur("+e.pixels+"px)"),!i||1!=i.useShadow&&"true"!=i.useShadow||(s.filter+="drop-shadow("+i.hShadow+"px "+i.vShadow+"px "+i.blur+"px "+i.color+")"),s["-webkit-filter"]=s.filter,s},convertCssProps:function(t){var e={};for(var i in t)e[eaUtils.cssPropsAlias[i]||i]=t[i];return e},fixCSSProp:function(t,e,i){if(void 0!=t)return void 0==e&&(e="fontSize"),void 0==i&&(i="px"),t[e]=parseInt(t[e])+i,t},getCssAsClass:function(t,e){var i="."+e+"{";for(var s in t){var r=t[s];if(r instanceof Array)for(var n=0,a=r.length;n<a;n++)i+=s+":"+r[n]+";";else i+=s+":"+r+";"}return i+="}"},getBackgroundCss:function(t){var e={};if(!t)return e;var i=t.type,s=t.scolor;switch("lgrad"!=i&&"rgrad"!=i||(t.gradColors&&t.gradColors.length?t.gradColors.length<2&&t.gradColors.length>0&&(s=t.gradColors[0].c,i="solid"):(i="solid",s="#fff")),"true"==String(t.useBorder)&&(e.border="1px solid "+t.borderColor),e["background-image"]="",i){case"none":break;case"image":t=this.backwardBackgroundTile(t),e=this.getImageBackgroundCSS(e,t);break;case"solid":if(s&&-1!=s.indexOf("rgba")){var r=eaUtils.getIEVersion();r>-1&&r<9&&(s=eaUtils.rgba2hex(eaUtils.extractRGBA(s),!1))}e["background-color"]=s;break;case"rgrad":case"lgrad":for(var n=t.gradColors,a=[],o=0;o<n.length;o++)a.push(n[o].c+" "+n[o].p+"%");var l=a.join(),p="linear",d=(t.rotation||"0")+"deg";if("rgrad"==t.type){p="radial";var c=t.rgradPos||"center";if("custom"==c){var h="";t.gradPosX&&-1!=t.gradPosX.indexOf("%")||(h="px");var u="";t.gradPosY&&-1!=t.gradPosY.indexOf("%")||(u="px"),c=(t.gradPosX||"0")+h+" "+(t.gradPosY||"0")+u}d=c+", circle cover"}else t.backgroundRotation&&(d=t.backgroundRotation+"deg");if(n&&n.length>0){var t=e["background-image"]=[];e["background-color"]=n[0].c,t.push("-moz-"+p+"-gradient("+d+",  "+l+")"),t.push("-webkit-"+p+"-gradient("+d+",  "+l+")"),t.push("-o-"+p+"-gradient("+d+",  "+l+")"),t.push("-ms-"+p+"-gradient("+d+",  "+l+")")}e.filter="progid:DXImageTransform.Microsoft.gradient( startColorstr='"+n[0].c+"', endColorstr='"+n[n.length-1].c+"',GradientType=0 )"}return e},getImagePathFromBackground:function(t){return t.url&&-1!==t.url.indexOf("//")?t.url:bannerConfig.photosUrl+t.url},applyImageSizeOnBackground:function(t,e){var i=0,s=!1,r=this.getImagePathFromBackground(e);for(var n in e)switch(n){case"scaleMode":case"verticalAlign":case"horizontalAlign":case"contentScale":s=!0}if(s){var a=new Image;"tile"==e.scaleMode&&(t.style.visibility="hidden"),a.onload=function(s){i!=a.width&&(i=a.width),t.style.backgroundSize="","tile"==e.scaleMode&&(t.style.backgroundSize=e.contentScale*i/100+"px",t.style.visibility="visible")},a.src=r}},getImageBackgroundCSS:function(t,e){var i,s,r=this.getImagePathFromBackground(e);t["background-image"]="url("+r+")";for(var n in e)switch(n){case"scaleMode":case"verticalAlign":case"horizontalAlign":switch(e.verticalAlign){case"top":i="0";break;case"middle":i="50%";break;case"bottom":i="100%"}switch(e.horizontalAlign){case"left":s="0";break;case"center":s="50%";break;case"right":s="100%"}t["background-position"]=s+" "+i;break;case"contentOffsetX":"tile"===e.scaleMode&&(t["background-position-x"]=e[n]+"%");break;case"contentOffsetY":"tile"===e.scaleMode&&(t["background-position-y"]=e[n]+"%")}return t},getBorderCss:function(t){var e={};return t&&(1!=t.useBorder&&"true"!=t.useBorder||(e.border="1px solid "+t.borderColor)),e},applyCss:function(t,e){for(var i in e)t.style[i]=e[i]},isURLValid:function(t){return!(t.indexOf(" ")>=0||-1==t.indexOf("."))},getAppValidURL:function(t){return eaUtils.isURLValid(t)?t:EAdConfig.baseDomain},getElementUniqueId:function(){return"e_"+eaUtils.domUniqueId++},getImagePath:function(t,e,i){return t?t.replace("{hash}",e).replace("{wxh}",i):""},getUniqueId:function(){return(Math.random()+(new Date).getTime()).toString(36).replace(".","")},preloadImage:function(t,e){var i=new Image;i.onerror=i.onload=function(){e&&e()},i.src=t},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),"ontouchstart"in document.documentElement}catch(t){return!1}},getSharePageURL:function(t){var e=1==t?"":"&v="+(12345+1e3*Math.random()>>0),i=URLPaths.sharePageUrlFormat.replace("{domain}",EAdConfig.shareSubdomain).replace("{hash}",EAdConfig.creativeHash);return this.getAppValidURL(i+e)},cloneObject:function(t){return JSON.parse(JSON.stringify(t))},getClickTagValue:function(){var t=window.location.search.substring(1),e=t.split("clickTag=");if(!e[1])return!1;var i=e[1].replace(/&.+$/,"");return decodeURIComponent(i)},getProtocol:function(){return"http:"!=location.protocol&&"https:"!=location.protocol?"https:":""},addProtocolToUrl:function(t){return-1==t.indexOf("://")?"http://"+t:t},getProportion:function(t,e){var i=window.innerWidth,s=window.innerHeight,r=i/t,n=s/e;return{proportion:Math.min(r,n)}}};Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=0;if(arguments.length>0&&(s=Number(arguments[1]),s!==s?s=0:0!==s&&s!==1/0&&s!==-1/0&&(s=(s>0||-1)*Math.floor(Math.abs(s)))),s>=i)return-1;for(var r=s>=0?s:Math.max(i-Math.abs(s),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1});var Detect=function(){var t,e,i="transformOrigin,textShadow,textStroke,boxShadow,borderRadius,borderImage,opacity".split(","),s="Webkit,Moz,O,ms,Khtml".split(","),r=document.createElement("detect"),n=[];for(t in i)e=i[t],n[e]=function(t){if("string"!=typeof t)return!1;for(var e=t.substr(0,1).toUpperCase()+t.substr(1),i=(t+" "+s.join(e+" ")+e).split(" "),n=0,a=i.length;n<a;n++)if(""===r.style[i[n]])return!0;return!1}(e);return n}(),effGenerator={styles:{},nextIndex:0,_generatedEffects:{},generate:function(t,e,i){var s=this.getEffId(e,i);if(this.styles[s])return s;var r="",n="ease";switch(e.ease){default:n+="Out";break;case"easeIn":n+="In";break;case"easeInOut":n+="InOut"}if(n+=e.tween,!this[n])return!1;for(var a=0;a<=100;a+=4)r+=this.getKeyframe(e,a,this[n](0,a,0,100,100),i),r+="\n";var o=document.createElement("style");o.type="text/css";var l;return l="@-webkit-keyframes "+s+"{\n"+r+"\n}",l+="\n@keyframes "+s+"{\n"+r+"\n}",this.styles[s]=!0,o.styleSheet?o.styleSheet.cssText=l:o.innerHTML=l,document.getElementsByTagName("head")[0].appendChild(o),s},getEffId:function(t,e){var i="eff_bs_"+(e?"in":"out"),s=["type","ease","tween"];switch(t.type){case"blur":case"blur-words":s.push("blurAmount");break;case"scale":s.push("direction");break;case"slide":s.push("alphaOffset","direction"),"custom"==t.direction?s.push("slidePosX","slidePosY"):s.push("slideOffset")}for(var r=0;r<s.length;r++)i+="_"+t[s[r]];return i},getKeyframe:function(t,e,i,s){var r,n,a=e+"% {";switch(t.type){case"scale":var o=1,l=1;switch(r=s?i/100:1-i/100,t.direction){case"l2r":case"r2l":o=r;break;case"t2b":case"b2t":l=r;break;case"center":o=r,l=r}a+="transform: scaleX("+o+") scaleY("+l+")";break;case"slide":var p=0,d=0;r=(100-i)/100;var c=parseInt(t.slideOffset);switch(t.direction){case"custom":p=parseInt(t.slidePosX*r),d=parseInt(t.slidePosY*r),s||(p=parseInt(t.slidePosX)-p,d=parseInt(t.slidePosY)-d);break;case"l2r":p=-c*r,s||(p+=c);break;case"r2l":p=c*r,s||(p-=c);break;case"t2b":d=-c*r,s||(d+=c);break;case"b2t":d=c*r,s||(d-=c)}var h=parseInt(t.alphaOffset)/100,u=h+i/100*(1-h);s||(u=1-u+h),a+="transform: translate("+p+"px, "+d+"px);\n",a+="opacity: "+u;break;case"blur":case"blur-words":var y=t.blurAmount*(i/100);s&&(y=t.blurAmount-y);var f="blur("+y+"px)";a+="filter: "+f+"; \n",a+="-webkit-filter: "+f+"; \n",n=s?3.33*e/100:3.33*(100-e)/100,n>1&&(n=1),a+="opacity: "+n;break;case"alpha":case"alpha-words":n=i/100,s||(n=1-n),a+="opacity: "+n}return a+="}"},easeInElastic:function(t,e,i,s,r){var n=1.70158,a=0,o=s;return 0==e?i:1==(e/=r)?i+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,n=a/4):n=a/(2*Math.PI)*Math.asin(s/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-n)*(2*Math.PI)/a)+i)},easeOutElastic:function(t,e,i,s,r){var n=1.70158,a=0,o=s;return 0==e?i:1==(e/=r)?i+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,n=a/4):n=a/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*r-n)*(2*Math.PI)/a)+s+i)},easeInOutElastic:function(t,e,i,s,r){var n=1.70158,a=0,o=s;return 0==e?i:2==(e/=r/2)?i+s:(a||(a=r*(.3*1.5)),o<Math.abs(s)?(o=s,n=a/4):n=a/(2*Math.PI)*Math.asin(s/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-n)*(2*Math.PI)/a)*-.5+i:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-n)*(2*Math.PI)/a)*.5+s+i)},easeOutBounce:function(t,e,i,s,r){return(e/=r)<1/2.75?s*(7.5625*e*e)+i:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+i:s*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInBounce:function(t,e,i,s,r){return s-this.easeOutBounce(t,r-e,0,s,r)+i},easeInOutBounce:function(t,e,i,s,r){return e<r/2?.5*this.easeInBounce(t,2*e,0,s,r)+i:.5*this.easeOutBounce(t,2*e-r,0,s,r)+.5*s+i},easeInStrong:function(t,e,i,s,r){return s*(e/=r)*e*e*e*e+i},easeOutStrong:function(t,e,i,s,r){return s*((e=e/r-1)*e*e*e*e+1)+i},easeInOutStrong:function(t,e,i,s,r){return(e/=r/2)<1?s/2*e*e*e*e*e+i:s/2*((e-=2)*e*e*e*e+2)+i}},eff={ceaser:{linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInStrong:"cubic-bezier(.97,.09,.79,.21)",easeOutStrong:"cubic-bezier(.21,.79,.09,.97)",easeInOutStrong:"cubic-bezier(.78,.03,.24,.99)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},timeouts:{},_blur:function(t,e,i,s){var r=this,n="in"===s,a=function(e){t.style.filter=e,t.style["-webkit-filter"]=e},o=Math.round(3.3*e.duration)/10,l=n?0:e.duration-o;this.setTransition(t,""),this.setAnimation(t,""),t.style.opacity=n?0:1,a(n?"blur("+e.blurAmount+"px)":"blur(0px)"),this.timeouts[i.delayId]=setTimeout(function(){if(t.offsetHeight,"Elastic"===e.tween||"Bounce"===e.tween)r.setKeyframeEffect(t,e,i,n,e.effName||null);else{var s=r.getTimingFunction(e),p="filter "+e.duration+"s "+s+" 0s, -webkit-filter "+e.duration+"s "+s+" 0s, opacity "+o+"s linear "+l+"s";r.setTransition(t,p)}t.style.opacity=n?1:0,a(n?"blur(0px)":"blur("+e.blurAmount+"px)"),r.timeouts[i.delayId]=setTimeout(function(){a(""),r.onAnimationEnd(t,i)},1e3*e.duration)},1e3*(Number(e.delay)+i.extraDelay))},blurIn:function(t,e,i){this._blur(t,e,i,"in")},blurOut:function(t,e,i){this._blur(t,e,i,"out")},_alpha:function(t,e,i,s){var r=this,n="in"===s;this.setTransition(t,""),this.setAnimation(t,""),t.style.opacity=n?0:1,this.timeouts[i.delayId]=setTimeout(function(){if(t.offsetHeight,"Elastic"===e.tween||"Bounce"===e.tween)r.setKeyframeEffect(t,e,i,n);else{var s=r.getTimingFunction(e),a="opacity "+Number(e.duration)+"s "+s;r.setTransition(t,a)}t.style.opacity=n?1:0,r.timeouts[i.delayId]=setTimeout(function(){e.isWordAnimation||(t.style.opacity=1),r.onAnimationEnd(t,i)},1e3*e.duration)},1e3*(Number(e.delay)+i.extraDelay))},alphaIn:function(t,e,i){this._alpha(t,e,i,"in")},alphaOut:function(t,e,i){this._alpha(t,e,i,"out")},setTransition:function(t,e){t.style.transition=e,t.style["-webkit-transition"]=e},setAnimation:function(t,e){t.style.animation=e,t.style["-webkit-animation"]=e},_scale:function(t,e,i,s){function r(t){return t&&n||!t&&!n?"scaleX("+a+") scaleY("+o+")":"scaleX(1) scaleY(1)"}var n="in"===s,a=1,o=1,l="top left";switch(e.direction){case"l2r":a=0,l=n?"left center":"right center";break;case"r2l":a=0,l=n?"right center":"left center";break;case"t2b":o=0,l=n?"center top":"center bottom";break;case"b2t":o=0,l=n?"center bottom":"center top";break;case"center":a=0,o=0,l="center center"}this.setTransition(t,""),this.setAnimation(t,""),t.style.transformOrigin=l,t.style.transform=r(!0);var p=this;this.timeouts[i.delayId]=setTimeout(function(){if(t.offsetHeight,"Elastic"===e.tween||"Bounce"===e.tween)p.setKeyframeEffect(t,e,i,n);else{var s=p.getTimingFunction(e),a="transform "+Number(e.duration)+"s "+s;p.setTransition(t,a)}t.style.transform=r(!1),p.timeouts[i.delayId]=setTimeout(function(){p.onAnimationEnd(t,i)},1e3*e.duration)},1e3*(Number(e.delay)+i.extraDelay))},scaleIn:function(t,e,i){this._scale(t,e,i,"in")},scaleOut:function(t,e,i){this._scale(t,e,i,"out")},breakWords:function(t){if(!t.getElementsByTagName("span").length){for(var e=t.innerHTML,i="<span>",s=!1,r=!1,n=0;n<e.length;n++)" "===e[n]||"\n"===e[n]?(r&&(i+="</span>"),s=!0,r=!1):(s&&(i+="<span>"),s=!1,r=!0),i+=e[n];i+="</span>",t.innerHTML=i}},effectWords:function(t,e,i,s,r){clearTimeout(this.timeouts[i.delayId]);var n=this;r&&(t.style.opacity=0),this.timeouts[i.delayId]=setTimeout(function(){e.onAnimationStart&&e.onAnimationStart(),r&&(t.style.opacity=1);var a=t.getElementsByClassName("text-content")[0];if(a){n.breakWords(a);var o=a.getElementsByTagName("span"),l=(e.duration-e.wordsDuration)/(o.length-1||1),p=e.wordsAppearOrder||"random",d=0,c=0;o=[].slice.call(o);var h;for("Elastic"!==e.tween&&"Bounce"!==e.tween||(h=effGenerator.generate(t,e,r));o.length;){var u,y,f;"r2l"===p?u=o.pop():"l2r"===p?u=o.shift():(c=Math.floor(Math.random()*o.length),u=o.splice(c,1)[0]),y={tween:e.tween,type:s,ease:e.ease,duration:e.wordsDuration,blurAmount:e.blurAmount,isWordAnimation:!0,effName:h,delay:d*l},f={delayId:i.delayId+"_"+d,extraDelay:0,isWordAnimation:!0},clearTimeout(n.timeouts[f.delayId]);n[s+(r?"In":"Out")](u,y,f),d++}var g=Math.max(Number(e.duration),Number(e.wordsDuration));n.timeouts[i.delayId]=setTimeout(function(){n.onAnimationEnd(t,i)},1e3*g)}},1e3*(Number(e.delay)+i.extraDelay))},setKeyframeEffect:function(t,e,i,s,r){r||(r=effGenerator.generate(t,e,s),i.effName=r);var n=Number(e.duration)+"s linear 0s "+r;this.setAnimation(t,n)},alphaWordsIn:function(t,e,i){this.effectWords(t,e,i,"alpha",!0)},alphaWordsOut:function(t,e,i){this.effectWords(t,e,i,"alpha",!1)},blurWordsIn:function(t,e,i){this.effectWords(t,e,i,"blur",!0)},blurWordsOut:function(t,e,i){this.effectWords(t,e,i,"blur",!1)},_slide:function(t,e,i,s){function r(t){return t&&n||!t&&!n?"translate("+l+"px, "+p+"px)":"translate(0,0)"}var n="in"===s,a=this,o=parseInt(e.alphaOffset)/100,l=0,p=0;switch(e.direction){case"custom":l=parseInt(e.slidePosX),p=parseInt(e.slidePosY);break;case"l2r":l=-parseInt(e.slideOffset);break;case"r2l":l=parseInt(e.slideOffset);break;case"t2b":p=-parseInt(e.slideOffset);break;case"b2t":p=parseInt(e.slideOffset)}n||"custom"==e.direction||(l*=-1,p*=-1),this.setTransition(t,""),this.setAnimation(t,""),t.style.opacity=n?o:1,t.style.transform=r(!0),this.timeouts[i.delayId]=setTimeout(function(){if(t.offsetHeight,"Elastic"===e.tween||"Bounce"===e.tween)a.setKeyframeEffect(t,e,i,n);else{var s=a.getTimingFunction(e),l="opacity "+Number(e.duration)+"s "+s+", transform "+Number(e.duration)+"s "+s;a.setTransition(t,l)}t.style.transform=r(!1),t.style.opacity=n?1:o,a.timeouts[i.delayId]=setTimeout(function(){a.onAnimationEnd(t,i),e.isWordAnimation||(t.style.opacity=1)},1e3*e.duration)},1e3*(Number(e.delay)+i.extraDelay))},slideIn:function(t,e,i){this._slide(t,e,i,"in")},slideOut:function(t,e,i){this._slide(t,e,i,"out")},none:function(t,e){},getTimingFunction:function(t){var e="ease";switch(t.ease){default:e+="Out";break;case"easeIn":e+="In";break;case"easeInOut":e+="InOut"}return e+=t.tween,"Linear"===t.tween&&(e="linear"),this.ceaser[e]},_els:[],getElementIndex:function(t){var e,i;for(e=0;i=this._els[e];e++)if(i===t)return e+1;return this._els.push(t),this._els.length},onAnimationEnd:function(t,e){this.setTransition(t,""),this.setAnimation(t,""),e.onAnimationEnd&&e.onAnimationEnd()},onAnimationStart:function(t,e,i){},clearAll:function(t){var e=this.getElementIndex(t),i="delay_"+e;this.timeouts[i]&&clearTimeout(this.timeouts[i]),this.setAnimation(t,""),this.setTransition(t,"")},clearWordsTimeout:function(t,e){for(var i,s=this.getElementIndex(t),r=0;r<e.length;r++)i="delay_"+s+"_"+r,this.timeouts[i]&&clearTimeout(this.timeouts[i]),this.setAnimation(e[r],""),this.setTransition(e[r],"")},animate:function(t,e,i,s){if("none"==e.type)return void(e.onAnimationEnd&&e.onAnimationEnd());var r=this,n="",a=e.type;switch(a){case"alpha-words":a="alphaWords";break;case"blur-words":a="blurWords"}i&&(n="buildIn"==i?"In":"Out"),a+=n;var o=this.getElementIndex(t),l={delayId:"delay_"+o,onAnimationEnd:e.onAnimationEnd,extraDelay:s||0};clearTimeout(this.timeouts[l.delayId]),r.onAnimationStart(t,e,l),r[a](t,e,l)}},EventDispatcher=function(){};EventDispatcher.prototype={constructor:EventDispatcher,apply:function(t){t.on=EventDispatcher.prototype.on,t.off=EventDispatcher.prototype.off,t.trigger=EventDispatcher.prototype.trigger},on:function(t,e){void 0===this._listeners&&(this._listeners={});var i,s,r=this._listeners;for(t=t.split(" "),s=0;i=t[s];s++)r[i]=r[i]||[],-1===r[i].indexOf(e)&&r[i].push(e)},off:function(t,e){if(void 0!==this._listeners){var i=this._listeners,s=i[t];if(void 0!==s){var r=s.indexOf(e);-1!==r&&s.splice(r,1)}}},trigger:function(t,e){if(void 0!==this._listeners){var i=this._listeners,s=i[t];if(void 0!==s){var r={};r.target=this,r.type=t,r.data=e;for(var n=s.length,a=0;a<n;a++)s[a].call(this,r)}}}},Stats.prototype=new EventDispatcher,Stats.prototype.constructor=Stats,Stats.prototype.plan=function(t,e,i){if(this.timestamp){this.planned[t]||(this.planned[t]=[]);var s=e.displayData&&e.displayData.type&&"slide"==e.displayData.type;if(!this.slideSaved||!s){!this.slideSaved&&s&&(this.slideSaved=s);var r={};for(var n in this.params)r[n]=this.params[n];var a=e.displayData&&e.displayData.properties&&e.displayData.properties.id||e.id;a&&(r.eid=a),r.ip=this.ip,r.vid=this.vid,r.t=this.timestamp+(Math.floor((new Date).getTime()/1e3)-this.viewTime),r.mp=i.clientX+"x"+i.clientY,r.et=i.type,r.elt=this.getElementType(e),this.planned[t].push(r)}}},Stats.prototype.launch=function(t){if(t)this.sendSQSRequest(this.planned[t]),this.planned[t]=[];else{var e=[];for(var i in this.planned)for(var s in this.planned[i])e.push(this.planned[i][s]);this.sendSQSRequest(e),this.planned={}}this.slideSaved=!1},Stats.prototype.isBlockedDomain=function(t){if(!t)return!1;var e=["www.klobic.com","klobic.com","klobic","www.mediacpm.pl","mediacpm.pl","www.adsmodern.com","adsmodern.com","www.capital.gr","capital.gr","www.dikaiologitika.gr","dikaiologitika.gr","www.athensmagazine.gr","athensmagazine.gr","www.topontiki.gr","topontiki.gr","www.efsyn.gr","efsyn.gr","www.youweekly.gr","youweekly.gr","www.tribune.gr","tribune.gr","www.newpost.gr","newpost.gr","www.rizopoulospost.com","rizopoulospost.com","www.newpost.gr","newpost.gr","www.kontranews.gr","kontranews.gr"];t=t.split("//")[1]||"",t=t.split("/")[0];var i=t.split(".");if(4==i.length){var s=t.replace(i[0]+".","");if("share"!=i[0]&&e.indexOf(s)>-1)return!0}return e.indexOf(t)>-1},Stats.prototype.track=function(){var t=this,e=this.getStatsRequestUrl(),i="bsStats_"+this.hash,s=this.isBlockedDomain(this.currentDomain),r={h:this.hash,c:i},n="";for(var a in r)n+=a+"="+encodeURIComponent(r[a])+"&";n=n.replace(/&$/,""),e+="?"+n,window[i]=function(e){var i=t.params;t.timestamp=i.t=e.t,t.ip=i.ip=e.ip,t.vid=i.vid=e.vid,i.et="view",t.viewTime=Math.floor((new Date).getTime()/1e3),s||t.trackView(i)};var o=document.createElement("script");o.src=e,document.getElementsByTagName("head")[0].appendChild(o)},Stats.prototype.trackView=function(t){delete t.mp,delete t.eid,delete t.elt;var e=[];e.push(t),this.sendSQSRequest(e)},Stats.prototype.trackEvent=function(t,e){var i=this;t.addEventListener("click",function(t){var s=i.getCurrentSlideFromOverflow(e);s&&i.plan("click",s,t),i.plan("click",e,t)})},Stats.prototype.getCurrentSlideFromOverflow=function(t){return t&&t.properties&&t.properties.showOnAllSlides?t.slide.banner.currentSlide:!!(t&&t.menu&&t.menu.properties&&t.menu.properties.showOnAllSlides)&&t.menu.slide.banner.currentSlide},Stats.prototype.sendSQSRequest=function(t){this.sendData(this.sqsURL+"?Action=SendMessage&MessageBody="+encodeURIComponent(JSON.stringify(t)))},Stats.prototype.sendData=function(t){if(!t)return!1;var e=new XMLHttpRequest;e.open("GET",t,!0),e.send()},Stats.prototype.getStatsRequestUrl=function(){if(bannerConfig.env){if("live"===bannerConfig.env)return"/info/";if("dev"===bannerConfig.env)return"/info/";if("local"===bannerConfig.env)return"/info/"}return"/info/"},Stats.prototype.getElementType=function(t){if(!t)return!1;var e=t.displayData&&t.displayData.type;if("slide"==e)return e;if("layer"==e){var i=t.displayData&&t.displayData.layerType;return i||!1}return t.itemIndex&&t.menu?"menuItem":"banner"},BaseDisplay.prototype=new EventDispatcher,BaseDisplay.prototype.constructor=EventDispatcher,BaseDisplay.prototype.container=null,BaseDisplay.prototype.displayContainer=null,BaseDisplay.prototype.properties=null,BaseDisplay.prototype.displayData=null,BaseDisplay.prototype.buildTimeouts=[],BaseDisplay.prototype.init=function(t){return this.displayData=t,this},BaseDisplay.prototype.render=function(){},BaseDisplay.prototype.reset=function(){eff.clearAll(this.container);var t,e;for(t=0;e=this.buildTimeouts[t];t++)clearTimeout(e);for(this.buildTimeouts=[],this.transform("none"),this.setStyle(this.container,"x,y,width,height","px"),
this.container.style.opacity=1,this.container.style.display="",this.container.style.filter="",this.container.style["-webkit-filter"]="",this.container.style.animation="",this.container.style["-webkit-animation"]="",t=0;e=this.buildTimeouts[t];t++)clearTimeout(e);if(this.buildTimeouts=[],this.displayContainer){var i=void 0!==this.properties.opacity?this.properties.opacity:100;this.displayContainer.style.opacity=i/100}},BaseDisplay.prototype.applyActions=function(t,e){var i=this;if(!t||!e)return!1;if("none"==t.type)return!1;var s="pointer";void 0!==t.useHandCursor&&0==t.useHandCursor&&(s=""),e.style.cursor=s,e.addEventListener(t.event,function(e){if(e.clickFlag)return e.clickFlag=!1,!1;if(t.disabled)return!1;if(e.clickFlag=this,"gotoSlide"==t.type){var s=i.slide.getBuildOutTime();s&&(t.disabled=!0,setTimeout(function(){t.disabled=!1},s));var r=i.slide.banner.currentSlide;switch(t.slideOrUrl){case"first":r.buildOut(i.slide.getFirstSlide());break;case"last":r.buildOut(i.slide.getLastSlide());break;case"next":r.buildOut(i.slide.getNextSlide(r));break;case"prev":r.buildOut(i.slide.getPrevSlide(r));break;default:r.buildOut(r.getSlideByHash(t.slideOrUrl))}}else{var n="";n=eaUtils.getClickTagValue()?eaUtils.addProtocolToUrl(eaUtils.getClickTagValue()):window.clickTag?eaUtils.addProtocolToUrl(window.clickTag):t.slideOrUrl,window.open(n,t.target)}})},BaseDisplay.prototype.createElement=function(t,e,i,s){var r=document.createElement(t);return r.setAttribute("class",e),0!=i&&(s||this.container)&&(s||this.container).appendChild(r),r.setAttribute("id",eaUtils.getElementUniqueId()),r},BaseDisplay.prototype.setStyle=function(t,e,i){i||(i="");var s={x:"left",y:"top",labelOffsetX:"margin-left",labelOffsetY:"margin-top",lineHeight:"line-height"};e=e.split(",");for(var r in e)e.hasOwnProperty(r)&&(t.style[s[e[r]]||e[r]]=this.properties[e[r]]+i);return this},BaseDisplay.prototype.getContainer=function(){return this.container},BaseDisplay.prototype.show=function(){return this.container.style.display="",this},BaseDisplay.prototype.hide=function(){return this.container.style.display="none",this},BaseDisplay.prototype.hasClass=function(t,e){return!!t&&new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},BaseDisplay.prototype.removeClass=function(t,e){return this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").replace(/^\s+|\s+$/g,"")),this},BaseDisplay.prototype.addClass=function(t,e){return t?(this.hasClass(t,e)||(t.className+=(t.className?" ":"")+e),this):this},BaseDisplay.prototype.toggleClass=function(t,e){return t?(this.hasClass(t,e)?this.removeClass(t,e):this.addClass(t,e),this):this},BaseDisplay.prototype.applyBackground=function(t,e){var i=eaUtils.getBackgroundCss(e);for(var s in i)switch(s){default:t.style[s]=i[s];break;case"background-image":if("lgrad"===e.type||"rgrad"===e.type)for(var r=0;r<i[s].length;r++)t.style.backgroundImage=i[s][r];else t.style[s]=i[s];break;case"background":for(var r=0;r<i[s].length;r++)t.style.background=i[s][r]}e&&e.type&&"image"==e.type&&(eaUtils.toggleBackroundClasses(t,e.scaleMode),eaUtils.applyImageSizeOnBackground(t,e))},BaseDisplay.prototype.applyBoxShadow=function(t,e){eaUtils.applyCss(t,eaUtils.getBoxShadowCss(e))},BaseDisplay.prototype.applyFilters=function(t,e,i,s){eaUtils.applyCss(t,eaUtils.getFiltersCss(e,i,s))},BaseDisplay.prototype.getFlipString=function(t){return t?"scale("+("both"===t||"horizontal"===t?"-1":"1")+", "+("both"===t||"vertical"===t?"-1":"1")+")":""},BaseDisplay.prototype.getBRadius=function(){var t=this.properties,e=t.border||{},i=0;return"rectangle"===t.type&&(void 0!==e.radius?i=e.radius:void 0!==t.bradius&&(i=t.bradius)),i},BaseDisplay.prototype.getBorderString=function(t){var e=t||this.properties.border||{};return void 0===e.weight||void 0===e.color?"":e.weight+"px solid "+e.color},BaseDisplay.prototype.getAnimationEl=function(){return this.container},BaseDisplay.prototype.playAnimation=function(t){var e=this,i=this.getAnimationEl(),s=this.displayData.properties,r=s.buildIn,n=s.buildOut;t=t||0,r&&"none"!=r.type?(this.buildTimeouts.push(setTimeout(function(){e.trigger("buildInStart")},1e3*r.delay)),r.onAnimationEnd=function(){n&&"none"!=n.type&&(e.buildTimeouts.push(setTimeout(function(){e.trigger("buildOutStart")},1e3*n.delay)),eff.animate(i,n,"buildOut"),e.buildTimeouts.push(setTimeout(function(){e.trigger("buildOutEnd"),i.style.display="none"},1e3*(n.duration+n.delay))))},eff.animate(i,r,"buildIn",t),this.buildTimeouts.push(setTimeout(function(){e.trigger("buildInEnd")},1e3*(r.duration+r.delay+t)))):n&&"none"!=n.type&&(this.buildTimeouts.push(setTimeout(function(){e.trigger("buildOutStart")},1e3*(n.delay+t))),eff.animate(i,n,"buildOut",t),this.buildTimeouts.push(setTimeout(function(){e.trigger("buildOutEnd"),i.style.display="none"},1e3*(n.duration+n.delay+t))))},BaseDisplay.prototype.transform=function(t,e){e||(e=this.container),e.style["-webkit-transform"]=t,e.style["-o-transform"]=t,e.style["-ms-transform"]=t,e.style["-moz-transform"]=t,e.style.transform=t},BaseDisplay.prototype.createActionProperties=function(t){var e=t||this.properties&&this.properties.actions&&this.properties.actions[0];if(!e)return!1;var i="";if("gotoURL"==e.type){if(!(i=e.url))return!1;-1==i.indexOf("://")&&(i="http://"+i)}return{event:e.event,slideOrUrl:"gotoSlide"==e.type?e.slide:i,type:e.type,target:e.target,useHandCursor:e.useHandCursor}},BaseDisplay.prototype.applyExtraPropertiesForGradients=function(t){if("string"!=typeof this.properties.backgroundColor){var e=this.properties.backgroundColor.type,i=this.properties.border?this.properties.border.weight:0;if("lgrad"===e||"rgrad"===e){var s="-"+i+"px",r="calc(100% + "+2*i+"px)";eaUtils.applyCss(t,{backgroundPosition:s+" "+s,backgroundSize:r+" "+r})}}},BannerDisplay.prototype=new BaseDisplay,BannerDisplay.prototype.constructor=BannerDisplay,BannerDisplay.prototype.currentSlide=null,BannerDisplay.prototype.lastSlide=null,BannerDisplay.prototype.fontsToLoad=[];var scripts=document.getElementsByTagName("script");BannerDisplay.prototype.jsFileSrc=scripts[scripts.length-1].src,BannerDisplay.prototype.init=function(t,e,i){var s=this;this.container=e,this.properties=t.properties,this.config=i,this.startSlide=parseInt(i.startSlide)||0,this.noAnimation=Boolean(i.noAnimation)||!1,this.showOnlyOneSlide=Boolean(i.showOnlyOneSlide)||!1;var r=this.jsFileSrc.split("/");r=r.slice(0,r.indexOf("js")).join("/"),bannerConfig.resourcesUrl||(bannerConfig.resourcesUrl=r),this.initFonts(t),this.addFontsToDom(),this.setStyle(this.container,"width,height","px"),(this.properties.width<2||this.properties.height<2)&&(this.properties.backgroundColor.useBorder=!1),this.applyBackground(this.container,this.properties.backgroundColor),this.applyActions(this.createActionProperties(),this.container),BaseDisplay.prototype.init.call(this,t),this.initSlides(t.elements),this.container.addEventListener("click",function(){s.statsPresent&&!s.stats.isBlockedDomain(document.referrer)&&s.stats.launch()});var n=eaUtils.getProportion(this.properties.width,this.properties.height);window.addEventListener("resize",function(){n=eaUtils.getProportion(s.properties.width,s.properties.height),s.container.style.transform="scale("+n.proportion+")"}),this.properties.transform="scale("+n.proportion+")",this.properties.transformOrigin="0 0 0",this.setStyle(this.container,"transform,transformOrigin")},BannerDisplay.prototype.showImageWatermark=function(){var t=document.createElement("img");t.src="/images/logo.png";var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.style.height=e<=90?"70%":"30%";var i=document.createElement("div");i.setAttribute("class","wraptocenter"),i.appendChild(t),document.getElementById("bs").appendChild(i),this._addClickWatermarkListener(i)},BannerDisplay.prototype.showWatermark=function(){var t={fontSize:"11px",fontStyle:"normal",fontFamily:"Arial, sans-serif",fontWeight:"400",cursor:"pointer",contentColor:"#fff",containerBgColor:"rgba(100, 100, 100, .8)",tooltipBgColor:"#090300",tooltipFontSize:"10px",tooltipOpacity:"0",tooltipHoverOpacity:"1",tooltipTransition:"opacity .25s",containerDistBottom:"0",containerDistRight:"-68px",containerHoverDistRight:"0",containerPosition:"absolute",containerZIndex:"999",svgFloat:"left",txtFloat:"left",tooltipPosition:"absolute",tooltipDistRight:"0",tooltipWhiteSpace:"nowrap",svgSize:"22px",svgPadding:"4px 0",txtPadding:"4px 4px 4px 0",tooltipPadding:"6px"},e=document.createElement("div"),i=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path"),r=document.createElementNS("http://www.w3.org/2000/svg","path"),n=document.createElement("div"),a=document.createElement("div");s.setAttribute("d","M3.5,0l15.2,0.5c2.9,0.1,4.5,1.2,4,4l-0.9,5.1c-0.1,0.6-0.2,1.1-0.4,1.7c-0.6,2.1-7.9-7.4-10-6.8L9.2,18.2l-3.7,1.1c-2.2,0.7-3.1-1-3.3-2.5L0.1,4C-0.3,1.2,0.6-0.1,3.5,0z"),r.setAttribute("d","M27.3,17.2c-4.7-4.9-9.3-9.5-14.1-13.8h0c-0.2-0.2-0.5-0.3-0.8-0.4c-0.7-0.1-1.6,0.3-2,1.3C9.1,7.2,9.2,19.9,9.1,23.8c0,0.6-0.1,1.1,0,1.6c0.7,0,1.9,0.2,2.2,0l3.7-4.3c0.7,1.8,2.2,6,3.2,8.8c0.3,0.7,1,1,1.7,0.8c0.8-0.8,5.4-1.9,5.6-1.9c-1.2-2.7-3.9-6.9-4.9-9.8l5.6,0.5c0.3,0.1,0.7-0.5,1-1.1C27.5,18.1,27.6,17.6,27.3,17.2z M24.9,18c-1-0.1-3.3-0.3-5.7-0.5l-0.6,0l0.2,0.6l5.1,10c-1.8,0.4-3.2,0.9-4.3,1.6c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.4-0.2-0.6c-0.1-0.2-0.2-0.4-0.3-0.7c0-0.1-0.1-0.2-0.1-0.2c-0.9-2.2-2.1-5.7-3-7.6c-0.3-0.7-0.7-0.9-1-0.8c-0.1,0-0.2,0.1-0.3,0.2c-0.9,1.2-2.3,3.5-2.6,4.1l-1.5-0.4c-0.3-5.8,0.5-10.9,1.2-16.9c0.2-1.5,1.3-1.1,2.3-0.7c2.7,3.5,10.9,10.6,11.3,11.6C25.2,17.6,25.3,18,24.9,18z"),n.innerText="klobic",a.innerText="Create banners the Snack way",i.appendChild(s),i.appendChild(r),e.appendChild(i),e.appendChild(n),document.getElementById("bs").appendChild(e),e.setAttribute("style","background-color: "+t.containerBgColor+";bottom: "+t.containerDistBottom+";color: "+t.contentColor+";cursor: "+t.cursor+";fill: "+t.contentColor+";font-family: "+t.fontFamily+";font-size: "+t.fontSize+";font-style: "+t.fontStyle+";font-weight: "+t.fontWeight+";position: "+t.containerPosition+";right: "+t.containerDistRight+";z-index: "+t.containerZIndex+";"),i.setAttribute("version","1.1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/a999/xlink"),i.setAttribute("width","27"),i.setAttribute("height","31"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("viewBox","0 0 27.6 30.9"),i.setAttribute("xml:space","preserve"),i.setAttribute("style","enable-background: new 0 0 27.6, 30.9;float: "+t.svgFloat+";height: "+t.svgSize+";padding: "+t.svgPadding+";width: "+t.svgSize+";"),n.setAttribute("style","float: "+t.txtFloat+";padding: "+t.txtPadding+";"),a.setAttribute("style","background-color: "+t.tooltipBgColor+";bottom: "+n.clientHeight+"px;font-size: "+t.tooltipFontSize+";filter: alpha(opacity="+100*t.tooltipOpacity+");opacity: "+t.tooltipOpacity+";padding: "+t.tooltipPadding+"; position: "+t.tooltipPosition+";right: "+t.tooltipDistRight+";-webkit-transition: "+t.tooltipTransition+";-moz-transition: "+t.tooltipTransition+";-o-transition: "+t.tooltipTransition+";transition: "+t.tooltipTransition+";white-space: "+t.tooltipWhiteSpace+";"),this._addClickWatermarkListener(e),e.addEventListener("mouseenter",function(){e.style.right=t.containerHoverDistRight,e.appendChild(a),setTimeout(function(){a.style.opacity=t.tooltipHoverOpacity},250)}),e.addEventListener("mouseleave",function(){e.style.right=t.containerDistRight,a.parentNode.removeChild(a),a.style.opacity=t.tooltipOpacity,setTimeout(function(){a.style.opacity=t.tooltipOpacity},250)})},BannerDisplay.prototype._addClickWatermarkListener=function(t){var e=this;t.addEventListener("click",function(t){var i="//www.klobic.com/?utm_source=freebanner&utm_medium=watermark1&utm_content="+e.properties.width+"x"+e.properties.height;window.open(i,"_blank"),t.stopPropagation()})},BannerDisplay.prototype.initSlides=function(t){this.slides=[];var e,i,s=[],r={properties:{},elements:[]};for(e=0;i=t[e];e++)"slide"===i.type?s.push(i):(i.properties&&(i.properties.showOnAllSlides=!0),r.elements.push(i));this.overflowSlide=new SlideDisplay,this.overflowSlide.isOverflowSlide=!0,this.overflowSlide.banner=this,this.overflowSlide.init(r,this.container);var n,a;for(e=0;a=s[e];e++)n=new SlideDisplay,n.banner=this,n.init(a,this.container),this.slides.push(n)},BannerDisplay.prototype.getWidth=function(){return this.properties.width},BannerDisplay.prototype.getHeight=function(){return this.properties.height},BannerDisplay.prototype.play=function(){this.overflowSlide.render(),this.slides[this.startSlide]&&this.slides[this.startSlide].play(null,!0)},BannerDisplay.prototype.initFonts=function(t){var e=t&&t.elements;if(!e)return!1;for(var i=0;i<e.length;i++)"slide"!=e[i].type?this.loadFonts(e[i]):this.initFonts(e[i])},BannerDisplay.prototype.loadFonts=function(t){var e=t&&t.properties;return!!e&&(e.labelStyle&&this.setFontsToBeLoaded(e.labelStyle.fontFamily,e.labelStyle.fontWeight,e.labelStyle.fontStyle),e.fontFamily&&this.setFontsToBeLoaded(e.fontFamily,e.fontWeight,e.fontStyle),!0)},BannerDisplay.prototype.setFontsToBeLoaded=function(t,e,i){return!!(t&&e&&i)&&("italic"==i&&(e+="i"),this.fontsToLoad[t]?-1==this.fontsToLoad[t].indexOf(e)&&(this.fontsToLoad[t]+=e+",",!0):(this.fontsToLoad[t]=e+",",!0))},BannerDisplay.prototype.addFontsToDom=function(){if(!this.fontsToLoad)return!1;var t=[];for(var e in this.fontsToLoad)t.push([e.replace(/\s/g,"+")+":"+this.fontsToLoad[e].replace(/\,$/,"")]);if(0!=t.length){t=t.join("|");var i=this.createElement("link","");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","https://fonts.googleapis.com/css?family="+t),this.container.appendChild(i)}},BannerDisplay.prototype.createActionProperties=function(){var t=eaUtils.getClickTagValue();t||(t=window.clickTag||window.clickTAG||this.config&&this.config.clickTag);var e={event:"click",slideOrUrl:"",type:"gotoURL",target:"_blank",useHandCursor:!0};if(t)return e.slideOrUrl=eaUtils.addProtocolToUrl(t),e;var i=this.properties;return!!i&&(!(!i.bannerUrl||"http://"==i.bannerUrl||"https://"==i.bannerUrl)&&(e.slideOrUrl=eaUtils.addProtocolToUrl(i.bannerUrl),e.target=i.urlTarget,e.useHandCursor=i.useHandCursor,e))},ButtonDisplay.prototype=new BaseDisplay,ButtonDisplay.prototype.constructor=ButtonDisplay,ButtonDisplay.prototype.getHoverBackgroundColor=function(){var t=JSON.parse(JSON.stringify(this.properties.backgroundColor));switch(t.type){case"solid":t.scolor=eaUtils.generateLighterColor(t.scolor,10);break;case"rgrad":case"lgrad":for(var e=t.gradColors,i=0;i<e.length;i++)e[i].c=eaUtils.generateLighterColor(e[i].c,10)}return t},ButtonDisplay.prototype.getBackgroundHoverCss=function(t,e,i){var s=eaUtils.getBackgroundCss(i),r="";for(var n in s)switch(n){default:s[n]&&(r+=n+": "+s[n]+" !important;");break;case"background-image":for(var a=0;a<s[n].length;a++)r+="background-image:"+s[n][a]+" !important;"}return r},ButtonDisplay.prototype.getBorderColorHoverCss=function(t,e,i){if(!i)return"";var s=eaUtils.extractRGBA(i),r=eaUtils.rgba2hex(s,!1);return"border-color: "+eaUtils.hex2rgba(eaUtils.generateLighterColor(r,10),s.a)+" !important;"},ButtonDisplay.prototype.init=function(t){var e=t.properties;this.properties=e;var i=e.border||{};if(this.container=this.createElement("div","element"),this.displayContainer=this.createElement("div","bs-btn "+t.eh),e["border-radius"]=e.border&&e.border.radius?e.border.radius:e.borderRadius,this.textContainer=this.createElement("label","bs-btn-label",!0,this.displayContainer),this.textContainer.textContent=e.buttonLabel,e["line-height"]=e.height-(i.weight?2*i.weight:0),this.setStyle(this.textContainer,"line-height,labelOffsetX,labelOffsetY","px"),e.labelStyle.fontSize=e.labelStyle.fontSize+"px",e.labelStyle.letterSpacing=e.labelStyle.letterSpacing+"px",eaUtils.applyCss(this.textContainer,e.labelStyle),eaUtils.applyCss(this.textContainer,eaUtils.getTextShadowCss(e.labelShadow)),eaUtils.applyCss(this.displayContainer,eaUtils.getBoxShadowCss(e.dropShadow)),"string"==typeof e.backgroundColor&&(e.backgroundColor={type:"solid",scolor:e.backgroundColor},this.properties=e),this.applyBackground(this.displayContainer,e.backgroundColor),i.weight){var s=JSON.parse(JSON.stringify(i));s.color="transparent",eaUtils.applyCss(this.textContainer,{left:"0",border:this.getBorderString(s)}),this.applyExtraPropertiesForGradients(this.displayContainer)}this.displayContainer.style.border=this.getBorderString();var r=".bs-btn."+t.eh,n="bs-btn"+t.eh,a=this.getBackgroundHoverCss(n,r,this.getHoverBackgroundColor()),o=this.getBorderColorHoverCss(n,r,i.color),l=r+":hover{"+a+o+"}";eaUtils.addCSSById(l,n),this.reset();var p=this.createActionProperties();return p&&"click"===p.event&&!p.useHandCursor&&this.addClass(this.displayContainer,"no-hand-cursor"),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.container,this),this.applyActions(p,this.container),BaseDisplay.prototype.init.call(this,t)},ButtonDisplay.prototype.reset=function(){BaseDisplay.prototype.reset.call(this),this.setStyle(this.displayContainer,"width,height,border-radius","px")},ClipartDisplay.prototype=new BaseDisplay,ClipartDisplay.prototype.constructor=BaseDisplay,ClipartDisplay.prototype.init=function(t){if(this.properties=t.properties,this.clipart=this.properties.svgObject,this.container=this.createElement("div","element"),this.transformContainer=this.createElement("div","transform-container"),this.displayContainer=this.createElement("div","bs-clipart"),this.displayContainer.setAttribute("id","ce-"+eaUtils.getUniqueId()),this.container.appendChild(this.transformContainer),this.transformContainer.appendChild(this.displayContainer),this.clipart.attributes&&this.clipart.attributes["data-height"]){var e=parseFloat(this.clipart.attributes["data-height"]);for(var i in this.clipart.children)this.clipart.children[i].attributes&&this.clipart.children[i].attributes.transform&&0!=e&&(this.clipart.children[i].attributes.transform="scale("+(this.properties.height/e).toFixed(3)+")")}this.makeClipartItem(this.clipart,this.displayContainer),this.applyFilters(this.displayContainer,!1,this.properties.blur,this.properties.dropShadow),this.transformContainer.style.height="100%",this.transformContainer.style.width="100%";var s=this.getFlipString(this.properties.flip);if(this.transform("translateZ(0) rotate("+this.properties.rotation+"deg) "+s,this.transformContainer),this.reset(),this.slide.banner.statsPresent){var r=this.displayContainer.querySelector(".actionMask")?this.displayContainer.querySelector(".actionMask"):this.displayContainer;this.slide.banner.stats.trackEvent(r,this)}return this.applyActions(this.createActionProperties(),this.displayContainer.querySelector(".actionMask")),BaseDisplay.prototype.init.call(this,t)},ClipartDisplay.prototype.makeClipartItem=function(t,e){var i,s,r=this,n={preserveAspectRatio:"none",version:"1.1",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve"},a=document.createElementNS("http://www.w3.org/2000/svg",t.type);if("svg"==t.type)for(i in n)a.setAttribute(i,n[i]);["ellipse","image","line","path","polygon","polyline","rect","use","circle"].indexOf(t.type)>-1&&a.setAttribute("fill",this.properties.fillColor);for(i in t.attributes)if("fill"==i&&"url"==t.attributes[i].slice(0,3)){var o=t.attributes[i].slice(5).slice(0,-1);a.setAttribute(i,"url(#"+o+this.displayContainer.getAttribute("id")+")")}else s="className"===i?"class":i,a.setAttribute(s,t.attributes[i]);"pattern"==t.type&&a.setAttribute("id",t.attributes.id+this.displayContainer.getAttribute("id")),e.appendChild(a),t.children&&t.children.forEach(function(t){r.makeClipartItem(t,this)},a)},ImageDisplay.prototype=new BaseDisplay,ImageDisplay.prototype.constructor=BaseDisplay,ImageDisplay.prototype.init=function(t){this.triggerReadyOnRender=!1,this.properties=t.properties,this.container=this.createElement("div","element"),this.transformContainer=this.createElement("div","transform-container"),this.displayContainer=this.createElement("div","bs-image image-"+this.properties.scaleMode),this.container.appendChild(this.transformContainer),this.transformContainer.appendChild(this.displayContainer);var e;e=this.properties.url&&-1!=this.properties.url.indexOf("//")?this.properties.url:bannerConfig.photosUrl+this.properties.url,this.displayContainer.style.backgroundImage="url("+e+")",this.applyFilters(this.displayContainer,this.properties.adjustColor,this.properties.blur,this.properties.dropShadow);var i,s;switch(this.properties.verticalAlign){case"top":i="0";break;case"middle":i="50%";break;case"bottom":i="100%"}switch(this.properties.horizontalAlign){case"left":s="0";break;case"center":s="50%";break;case"right":s="100%"}if(this.displayContainer.style.backgroundPosition=s+" "+i,"tile"==this.properties.scaleMode){var r=this.properties.contentScale;this.displayContainer.style.backgroundSize=r/100*this.properties.oWidth+"px",this.displayContainer.style.backgroundPositionX=this.properties.contentOffsetX+"%",this.displayContainer.style.backgroundPositionY=this.properties.contentOffsetY+"%"}this.transformContainer.style.height="100%",this.transformContainer.style.width="100%";var n=this.getFlipString(this.properties.flip);return this.transform("translateZ(0) rotate("+this.properties.rotation+"deg) "+n,this.transformContainer),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),BaseDisplay.prototype.init.call(this,t)},MenuDisplay.prototype=new BaseDisplay,MenuDisplay.prototype.constructor=MenuDisplay,MenuDisplay.prototype.init=function(t){var e=eaUtils.getIEVersion(),i=this;this.timeout=!1,this.counter=0,this.elementData=t;var s=t.properties;this.properties=s,this.container=this.createElement("div","element"),this.displayContainer=this.createElement("div","menu "+t.eh+(9==e?" ie"+e:""));var r=this.displayContainer.style;r.backgroundColor=s.backgroundColor,r.borderRadius=s.borderRadius+"px",s.labelStyle.fontSize=s.labelStyle.fontSize+"px",s.labelStyle.letterSpacing=s.labelStyle.letterSpacing+"px",eaUtils.applyCss(this.displayContainer,eaUtils.getBoxShadowCss(s.dropShadow));var n=this.properties.items;if(n){for(var a=0;a<n.length;a++)this.setLabelStyle(n[a]);this.slide.banner.on("changeSlide",function(){i.setActiveLabel(i.displayContainer,null)})}return this.cssClass=".menu."+this.elementData.eh+" label",this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.reset(),BaseDisplay.prototype.init.call(this,t)},MenuDisplay.prototype.render=function(){var t=this,e=this.properties,i=this.elementData.eh;if(!eaUtils.isMobile.any()){var s=this.cssClass+(this.properties.activeColors?":hover{background-color:"+e.activeBackgroundColor+";color:"+e.activeLabelColor+"!important}":":hover{opacity:0.8}");eaUtils.addCSSById(s,"menu"+i+"label:hover")}var r=this.cssClass+(e.activeColors?".active{background-color:"+e.activeBackgroundColor+";color:"+e.activeLabelColor+"!important}":".active{opacity:0.8}");eaUtils.addCSSById(r,"menu"+i+"label.active");var n=this.displayContainer.children,a=this.properties&&this.properties.items;if(n&&0!=n.length)for(var o=0;o<n.length;o++)n[o].addEventListener("click",function(){for(var e=this,i=!1,s=0;s<n.length;s++)if(e.id==n[s].id&&a&&a[s]&&a[s].action&&a[s].action.type&&"gotoSlide"==a[s].action.type){i=s;break}"boolean"!=typeof i&&t.setActiveLabel(t.displayContainer,i)})},MenuDisplay.prototype.setLabelStyle=function(t,e){var i=this.createElement("label","",!0,this.displayContainer),s=this.properties,r=i.style;r.lineHeight=s.height+"px",r.height=s.height+"px",eaUtils.applyCss(i,s.labelStyle),eaUtils.applyCss(i,eaUtils.getTextShadowCss(s.labelShadow));var n=this.createElement("span","",!0,i);n.textContent=t.label;var a=n.style;a.display="inline-block",a.position="relative",a.top=s.labelOffsetY+"px",t.action&&(this.slide.banner.statsPresent&&(t.menu=this,this.slide.banner.stats.trackEvent(i,t)),this.adjustActionProperties(t.action),this.applyActions(this.createActionProperties(t.action),i))},MenuDisplay.prototype.setActiveLabel=function(t,e){for(var i=t.children,s=0;s<i.length;s++){var r=i[s];this.removeClass(r,"active"),null!=e&&s==e&&this.addClass(r,"active")}},MenuDisplay.prototype.adjustActionProperties=function(t){if(!t)return!1;var e=t.type;if(t.event||(t.event="click"),t.useHandCursor||(t.useHandCursor=!0),"gotoSlide"==e)if("first"==t.target||"last"==t.target||"prev"==t.target||"next"==t.target)t.slide=t.target;else{var i=parseInt(t.target);!isNaN(i)&&i||(t.target=1),t.slide=this.slide&&this.slide.banner&&this.slide.banner.slides&&this.slide.banner.slides[t.target-1]&&this.slide.banner.slides[t.target-1].ah}return"gotoURL"==e&&null==t.target&&(t.target="_blank"),t},MenuDisplay.prototype.reset=function(){BaseDisplay.prototype.reset.call(this),this.setStyle(this.displayContainer,"width,height,border-radius","px")},ShapeDisplay.prototype=new BaseDisplay,ShapeDisplay.prototype.constructor=ShapeDisplay,ShapeDisplay.prototype.init=function(t){var e=t.properties;if(this.properties=e,this.container=this.createElement("div","element"),this.displayContainer=this.createElement("div","shape "+e.type),eaUtils.detectIE()){var i=this.createElement("img","fakeImage");i.src=eaUtils.getTransparentImageURL(),this.displayContainer.appendChild(i)}"line"===e.type&&(e.type="rectangle",e.width=e.len,e.height=e.thick,delete e.len,delete e.thick,this.properties=e),this.container.style.width=e.width+"px",this.container.style.height=e.height+"px";var s=this.getBRadius();s&&(this.displayContainer.style.borderRadius=s+"px"),this.displayContainer.style.border=this.getBorderString(),this.applyBackground(this.displayContainer,e.backgroundColor),this.applyExtraPropertiesForGradients(this.displayContainer),this.displayData=t;var r=this.getFlipString(e.flip);return this.transform("rotate("+this.properties.rotation+"deg) "+r,this.displayContainer),this.applyFilters(this.displayContainer,!1,this.properties.blur,this.properties.dropShadow),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),BaseDisplay.prototype.init.call(this,t)},SlideDisplay.prototype=new BaseDisplay,SlideDisplay.prototype.constructor=SlideDisplay,SlideDisplay.prototype.init=function(t,e){if(this.isOverflowSlide)this.container=e,this.resetElements();else{var i=t.properties;this.container=this.createElement("div","slide",!0,e),this.ah=t.ah,i.duration=parseFloat(i.duration),i.duration<.1&&(i.duration=.1);var s=i.transition=i.transition||{type:"none",delay:0,duration:.1};this.parseTransition(s),this.applyBackground(this.container,i.backgroundColor),this.reset()}return this.banner.statsPresent&&this.banner.stats.trackEvent(this.container,this),BaseDisplay.prototype.init.call(this,t)},SlideDisplay.prototype.parseTransition=function(t){if(t.duration=parseFloat(t.duration)||0,t.delay=parseFloat(t.delay)||0,"slide"===t.type&&!parseInt(t.slideOffset))switch(t.direction){case"r2l":case"l2r":t.slideOffset=this.banner.getWidth();break;case"t2b":case"b2t":t.slideOffset=this.banner.getHeight()}},SlideDisplay.prototype.isFirstSlide=function(){return 0===this.banner.slides.indexOf(this)},SlideDisplay.prototype.reset=function(){eff.clearAll(this.container);var t=this.container.style;t.zIndex=0,t.width="100%",t.height="100%",t.top="0",t.left="0",t.filter="",t["-webkit-filter"]="",t.animation="",t["-webkit-animation"]="",this.transform("none"),this.resetElements()},SlideDisplay.prototype.resetElements=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].reset()},SlideDisplay.prototype.play=function(t,e){this.banner.lastSlide=this.banner.currentSlide,this.banner.currentSlide=this,e||this.banner.trigger("changeSlide"),this.rendered?this.reset():this.render(),this.container.style.opacity=1,this.playSlideAnimation(t)},SlideDisplay.prototype.render=function(){var t,e,i=this.displayData.elements;for(e=0;e<i.length;e++)(t=this.renderElement(i[e]))&&this.elements.push(t);if(this.on("buildInStart buildInEnd buildOutStart buildOutEnd",function(t){for(var e=0;e<this.elements.length;e++){var i="slide"+t.type.charAt(0).toUpperCase()+t.type.substr(1);this.elements[e].trigger(i,this)}}),this.isOverflowSlide){if(!this.banner.noAnimation)for(e=0;e<this.elements.length;e++)this.elements[e].playAnimation(0);this.trigger("buildInStart"),this.trigger("buildInEnd")}else this.createElement("div","slide-hover",!0,this.container);this.rendered=!0},SlideDisplay.prototype.renderElement=function(t){function e(t){t.duration=parseFloat(t.duration)||0,t.delay=parseFloat(t.delay)||0,"alpha-words"!=t.type&&"blur-words"!=t.type||(t.duration=Math.max(Number(t.duration),Number(t.wordsDuration)))}var i,s=t.properties,r=s.buildIn=s.buildIn||{type:"none",delay:0,duration:0},n=s.buildOut=s.buildOut||{type:"none",delay:0,duration:0};switch(e(r),e(n),t.layerType){case"text":i=new TextDisplay;break;case"image":i=new ImageDisplay;break;case"clipart":i=new ClipartDisplay;break;case"button":i=new ButtonDisplay;break;case"shape":i=new ShapeDisplay;break;case"youtube":i=new YoutubeDisplay;break;case"embed":i=new EmbedDisplay;break;case"menu":i=new MenuDisplay}if(i){i.slide=this;var a=i.init(t).getContainer();this.container.appendChild(a),i.render(),this.isOverflowSlide&&(i.container.style.zIndex=10,i.container.style.webkitTransform="translate3d(0, 0, 0)")}return i},SlideDisplay.prototype.getNextSlide=function(t){t||(t=this);var e=this.banner.slides,i=e.indexOf(t);return i+1>=e.length?this.banner.slides[0]:this.banner.slides[i+1]},SlideDisplay.prototype.getPrevSlide=function(t){t||(t=this);var e=this.banner.slides,i=e.indexOf(t);return i-1<0?this.banner.slides[this.banner.slides.length-1]:this.banner.slides[i-1]},SlideDisplay.prototype.getFirstSlide=function(){this.banner.slides;return this.banner.slides[0]},SlideDisplay.prototype.getLastSlide=function(){this.banner.slides;return this.banner.slides[this.banner.slides.length-1]},SlideDisplay.prototype.playSlideAnimation=function(t){clearTimeout(this._buildOutTimeout);var e,i,s=this.getAnimationEl(),r=this,n=this.displayData.properties,a=this.banner.lastSlide?this.banner.lastSlide.container:null,o=this.banner.slides.length,l=0;for(e=0;e<this.banner.slides.length;e++)i=this.banner.slides[e].container,i.style.zIndex=0,i.style.display="none";if(this.container.style.display="",this.container.style.zIndex=1,this.trigger("buildInStart"),t&&"none"!==t.type&&!this.banner.noAnimation&&o>1?(this.addClass(this.container,"buildin"),l=parseFloat(t.duration)||0,a&&(a.style.display=""),"hide"!==t.crosstype?eff.animate(s,t,"buildIn"):a&&(a.style.zIndex=2),setTimeout(function(){r.removeClass(r.container,"buildin"),r.trigger("buildInEnd")},1e3*t.duration)):this.trigger("buildInEnd"),n.stopSlide||this.banner.showOnlyOneSlide||(this._buildOutTimeout=setTimeout(function(){r.buildOut()},1e3*(l+n.duration))),!this.banner.noAnimation)for(e=0;e<this.elements.length;e++)this.elements[e].playAnimation(l)},SlideDisplay.prototype.buildOut=function(t){this._buildOutTimeout&&clearTimeout(this._buildOutTimeout);var e=this.banner.slides.length,i=this.displayData.properties.transition,s=this;s.trigger("buildOutStart");var r=null;i&&"none"!==i.type&&e>1?(s.addClass(s.container,"buildout"),"show"!==i.crosstype&&eff.animate(this.getAnimationEl(),eaUtils.cloneObject(i),"buildOut"),r=setTimeout(function(){s.banner.currentSlide!==s&&(s.container.style.display="none"),s.removeClass(s.container,"buildout"),s.trigger("buildOutEnd")},1e3*i.duration)):s.trigger("buildOutEnd"),t||(t=this.getNextSlide()),t===this&&r&&(clearTimeout(r),s.removeClass(s.container,"buildout"),s.trigger("buildOutEnd")),t.play(eaUtils.cloneObject(i))},
SlideDisplay.prototype.getBuildOutTime=function(){var t=this.displayData.properties.transition;return t&&"none"!==t.type?1e3*t.duration:0},SlideDisplay.prototype.getSlideByHash=function(t){if(!t)return!1;for(var e=this.banner.slides,i=0;i<e.length;i++)if(t==e[i].ah)return e[i];return!1},TextDisplay.prototype=new BaseDisplay,TextDisplay.prototype.constructor=TextDisplay,TextDisplay.prototype.init=function(t){this.properties=t.properties,this.container=this.createElement("div","element"),this.text=this.createElement("span","text-content"),this.displayContainer=this.createElement("p","text"),this.displayContainer.appendChild(this.text),this.container.appendChild(this.displayContainer),this.transform("rotate("+this.properties.rotation+"deg)",this.displayContainer);var e=this.properties;this.setStyle(this.displayContainer,"fontWeight,fontStyle,opacity,color"),this.setStyle(this.displayContainer,"fontSize","px");var i=this.displayContainer.style;i.fontFamily="'"+e.fontFamily+"'",i.textAlign=e.alignment,i.lineHeight=e.lineHeight,i.letterSpacing=e.letterSpacing+"px",e.textTransform&&(i.textTransform=e.textTransform),e.textDecoration&&(i.textDecoration=e.textDecoration);try{this.text.textContent=this.properties.text}catch(t){}return eaUtils.applyCss(this.displayContainer,eaUtils.getTextShadowCss(this.properties.textShadow)),this.applyFilters(this.displayContainer,!1,this.properties.blur),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.text,this),this.applyActions(this.createActionProperties(),this.text),BaseDisplay.prototype.init.call(this,t)},TextDisplay.prototype.reset=function(){BaseDisplay.prototype.reset.call(this);var t=this.container.getElementsByClassName("text-content")[0],e=t.getElementsByTagName("span");eff.clearWordsTimeout(this.container,e);for(var i=0;i<e.length;i++){var s=e[i].style;s.opacity=1,s.filter="",s["-webkit-filter"]="",s.animation="",s["-webkit-animation"]="",s.transition="",s["-webkit-transition"]=""}},EmbedCanvas.prototype=new EventDispatcher,EmbedCanvas.prototype.constructor=EmbedCanvas,EmbedCanvas.prototype.init=function(t,e,i){this.json=e,this.config=i,this.banner=new BannerDisplay;var s=!i.preview&&!i.download;if(s){var r=new Stats({hash:e.hash,userId:e.userId,paid:e.paid,rotatorHash:this.getRotatorHashFromUrl(),banner:this.banner,currentDomain:document.referrer});r.track(),this.banner.stats=r}e.paid&&0!=e.paid||i.printScreen||this.banner.showImageWatermark(),this.banner.statsPresent=s,this.banner.init(e.banner,t,i),this.banner.play()},EmbedCanvas.prototype.showWatermark=function(t){this.banner.showImageWatermark()},EmbedCanvas.prototype.getRotatorHashFromUrl=function(){var t=!1,e=window.location.search;if(e){var i,s=e.substr(1).split("&");for(var r in s)if(i=s[r].split("=",2),"rotator_hash"==i[0]){t=i[1];break}}return t};